<!DOCTYPE html>
<html lang='en'>
    <head>
    <meta charset='utf-8' />
    <link href='./fullcalendar/lib/main.css' rel='stylesheet' />
    <script src='./fullcalendar/lib/main.js'></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {

        var res = [{"opponent":"Rapid Bienne","location":"Marly Grand-Pré","name":"U20F","date":"2022-10-21T22:00:00.000Z","time":"20:30:00"},{"opponent":"Rapid Bienne","location":"Externe","name":"U20F","date":"2022-11-23T23:00:00.000Z","time":"19:00:00"}];
        let events = []
        console.log(res.length)
        for (let i = 0; i <res.length; i++) {
            let color;
            if (res[i].location !== 'Externe') {
                color = "#e01b2f";
            } else {
                color = "#08daff";
            }
            let cut = res[i].date.indexOf('T');
            let dateTime = res[i].date.substring(0, cut)+"T"+res[i].time
            let match = {
                title: "MarlyBasket " + res[i].name + " - " + res[i].opponent,
                start: dateTime,
                eventColor : color
            }
            events.push(match)
        }
        console.log(events)

        var calendarEl = document.getElementById('calendar');
       /* var events = [

            {
                title: 'Entraînement U20F',
                start: '2022-09-01T19:00:00',
                end: '2022-09-01T20:30:00'
            },
            {
                groupId: '999',
                title: 'Repeating Event',
                start: '2022-08-09T16:00:00'
            },
            {
                groupId: '999',
                title: 'test',
                start: '2022-08-16T16:00:00'
            },
            {
                title: 'Conference',
                start: '2022-08-11',
                end: '2022-08-13'
            },
            {
                title: 'Meeting',
                start: '2022-08-12T10:30:00',
                end: '2022-08-12T12:30:00'
            },
            {
                title: 'Lunch',
                start: '2022-08-12T12:00:00'
            },
            {
                title: 'Maaaeeting',
                start: '2022-08-12T14:30:00'
            },
            {
                title: 'Birthday Party',
                start: '2022-08-13T07:00:00'
            },
            {
                title: 'Click for Google',
                url: 'http://google.com/',
                start: '2022-08-28'
            }
        ];

        */
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            initialDate: '2022-08-07',
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            events
        });

        calendar.render();
    });

</script>
</head>
<body>
<div id='calendar'></div>
<h1>test</h1>
</body>
</html>